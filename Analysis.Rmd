---
title: "Analysis Report 1: NEON Small Mammal Data"
author: "Don Francisco"
date: "3/15/2018"
bibliography: references.bib
csl: ecology.csl
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Introduction

Delete this placeholder text, and replace it with your introduction text. You should include background on the NEON project including proper citations (e.g. [@thorpe2016introduction]), the sets of sites you are comparing, and other relevent background information related to your specific hypotheses. 

# Methods

Describe where the data came from, including how they were collected in the field (information is in the pdf file in the data folder), some information about those sites and why you chose them, and how you are analyzing them (e.g. using R to visualize the results and the statistical tests you will use).

# Results
```{r load-packages}
library("dplyr")
library("ggplot2")
library("readr")
```

Read in the small mammal data set:
```{r load-in-data}
# read in the small mammal data from raw data directory
mam_pertrapnight <- read_csv("data/raw_data/mam_pertrapnight.csv")
```

Data set showing the weight of small mammals at NEON sites:


Box plot for the weight of small mammals at NEON sites:
```{r boxplot-of-small-mammal-weight}
# weight of small mammals at diffrent sites in the NEON data
ggplot(mam_pertrapnight, aes(x = siteID,
                             y = weight)) +
  geom_boxplot() +
  ggtitle("Weight of Small Mammals at NEON sites") +
  xlab("site ID") +
  ylab("weight (grams)")
```

Scatter plot for the weight of small  mammals at "CLBJ" NEON site:
```{r scatterplot-for-CLBJ-site}
# make a boxplot for the weight of small mammals at "CLBJ" NEON site
mam_pertrapnight %>%
  filter(siteID == "CLBJ") %>%
  filter(!is.na(scientificName)) %>%
  ggplot(aes(x = scientificName,
             y = weight)) +
  geom_boxplot() +
  ggtitle("Weight of Small Mammal Species at CLBJ NEON site") +
  xlab("Species") +
  ylab("Weight (grams)")
```


Scatter plot for the weight of small  mammals at "SERC" NEON site:
```{r scatterplot-for-SERC-site}
# make a scatterplot for the weight of small mammals at "SERC" NEON site
mam_pertrapnight %>%
  filter(siteID == "SERC") %>%
  filter(!is.na(scientificName)) %>%
  ggplot(aes(x = scientificName,
             y = weight)) +
  geom_boxplot() +
  ggtitle("Weight of Small Mammal Species at SERC NEON site") +
  xlab("Species") +
  ylab("Weight (grams)")
```

```{r summary-table-of-weight}
# I want to make a summary table of average weight and standard deviation
# of all trapped rodents grouped by site, and excluding NA values
mam_pertrapnight %>%
  filter(trapStatus == "3 - trap door open or closed w/ spoor left") %>%  
  group_by(siteID) %>%
  summarise(mean_weight = mean(weight, na.rm = TRUE),
            sd_weight = sd(weight, na.rm = TRUE)) %>%
  filter(siteID %in% c("SERC", "CLBJ")) %>% 
  ggplot(aes(x = siteID, y = mean_weight)) +
  geom_errorbar(aes(x = siteID,
                    ymin = mean_weight - sd_weight,
                    ymax = mean_weight + sd_weight),
                width = 0.2) +
  geom_col(fill = "dodger blue") +
  ggtitle("Average Weight in Grams of Small Mammals at SERC and CLBJ NEON sites")

```

Add a number of code chunks in the Results section. These should read in, subset and plot the data as needed (no need to save any figures to pdf, since they will be put into the rendered document when you click 'knit'), and, for any hypotheses that you want to test, an appropriate statistical test. You should have at least 5 figures and/or tables in this section, which you use to test your hypotheses against the dataset.

# Discussion

Discuss the results you found in the context of what you know about the site/sites and the predominant types of vegatation in those locations. Think also about the community dynamics of the mammal community at each of the sites, in the context of what you know about different types of species interactions, food webs, trophic transfer, etc.

# Sources Cited

